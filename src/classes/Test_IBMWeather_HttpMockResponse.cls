@isTest
public class Test_IBMWeather_HttpMockResponse implements HttpCalloutMock {
    
    public HTTPResponse respond(HTTPRequest req) {
        
        String httpEndpoint = req.getEndpoint();
        String httpMethod = req.getMethod();
        
        System.debug(httpEndpoint);
        
        if (httpMethod.equals('GET')) {
            if(httpEndpoint.contains('observations.json')) {
                return mockGetObservation(req);
            } else if (httpEndpoint.contains('forecast/daily/3day.json')) {
                return mockGetForecast(req);
            } else if (httpEndpoint.contains('alerts.json')) {
                return mockGetAlerts(req);
            }
        }
        System.debug(httpEndpoint);
        return null;
    }
    
    private static HttpResponse mockGetObservation(HttpRequest req) {
        String jsonResponse = '{"metadata":{"language":"en-US","transaction_id":"1491921324186:-84689487","version":"1","latitude":37.12,"longitude":-89.19,"expire_time_gmt":1491927300,"status_code":200},"observation":{"key":"KCIR","class":"observation","expire_time_gmt":1491927300,"obs_id":"KCIR","obs_name":"Cairo","valid_time_gmt":1491920100,"day_ind":"D","temp":60,"wx_icon":26,"icon_extd":2600,"wx_phrase":"Cloudy","pressure_tend":null,"pressure_desc":null,"dewPt":46,"heat_index":60,"rh":60,"pressure":29.87,"vis":10,"wc":60,"wdir":360,"wdir_cardinal":"N","gust":null,"wspd":13,"max_temp":null,"min_temp":null,"precip_total":null,"precip_hrly":0,"snow_hrly":null,"uv_desc":"Low","feels_like":60,"uv_index":2,"qualifier":null,"qualifier_svrty":null,"blunt_phrase":null,"terse_phrase":null,"clds":"SCT","water_temp":null,"primary_wave_period":null,"primary_wave_height":null,"primary_swell_period":null,"primary_swell_height":null,"primary_swell_direction":null,"secondary_swell_period":null,"secondary_swell_height":null,"secondary_swell_direction":null}}';
        
        HttpResponse res = new HttpResponse();
        res.setHeader('Content-Type', 'application/json');
        res.setBody(jsonResponse);
        res.setStatusCode(200);
        return res;
    }
    
    private static HttpResponse mockGetForecast(HttpRequest req) {
        String jsonResponse = '{"metadata":{"language":"en-US","transaction_id":"1491921523699:-1684379945","version":"1","latitude":37.12,"longitude":-89.19,"units":"e","expire_time_gmt":1491921833,"status_code":200},"forecasts":[{"class":"fod_long_range_daily","expire_time_gmt":1491921833,"fcst_valid":1491912000,"fcst_valid_local":"2017-04-11T07:00:00-0500","num":1,"max_temp":68,"min_temp":47,"torcon":null,"stormcon":null,"blurb":null,"blurb_author":null,"lunar_phase_day":15,"dow":"Tuesday","lunar_phase":"Full Moon","lunar_phase_code":"F","sunrise":"2017-04-11T06:27:53-0500","sunset":"2017-04-11T19:28:14-0500","moonrise":"2017-04-11T20:01:43-0500","moonset":"2017-04-11T06:55:53-0500","qualifier_code":null,"qualifier":null,"narrative":"Morning showers. Highs in the upper 60s and lows in the upper 40s.","qpf":0.0,"snow_qpf":0.0,"snow_range":"","snow_phrase":"","snow_code":"","night":{"fcst_valid":1491955200,"fcst_valid_local":"2017-04-11T19:00:00-0500","day_ind":"N","thunder_enum":0,"daypart_name":"Tonight","long_daypart_name":"Tuesday night","alt_daypart_name":"Tonight","thunder_enum_phrase":"No thunder","num":2,"temp":47,"hi":64,"wc":47,"pop":10,"icon_extd":9000,"icon_code":29,"wxman":"wx1650","phrase_12char":"Clear Late","phrase_22char":"Clearing Late","phrase_32char":"Clouds Early/Clearing Late","subphrase_pt1":"Clearing","subphrase_pt2":"Late","subphrase_pt3":"","precip_type":"rain","rh":78,"wspd":3,"wdir":14,"wdir_cardinal":"NNE","clds":36,"pop_phrase":"","temp_phrase":"Low 47F.","accumulation_phrase":"","wind_phrase":"Winds light and variable.","shortcast":"Clouds early, some clearing late","narrative":"Mostly cloudy early, then clearing overnight. Low 47F. Winds light and variable.","qpf":0.0,"snow_qpf":0.0,"snow_range":"","snow_phrase":"","snow_code":"","vocal_key":"D2:DA02:X2600320022:S900023:TL47:W9902","qualifier_code":null,"qualifier":null,"uv_index_raw":0,"uv_index":0,"uv_warning":0,"uv_desc":"Low","golf_index":null,"golf_category":""},"day":{"fcst_valid":1491912000,"fcst_valid_local":"2017-04-11T07:00:00-0500","day_ind":"D","thunder_enum":1,"daypart_name":"Today","long_daypart_name":"Tuesday","alt_daypart_name":"Today","thunder_enum_phrase":"Thunder possible","num":1,"temp":68,"hi":67,"wc":60,"pop":30,"icon_extd":6103,"icon_code":39,"wxman":"wx2500","phrase_12char":"AM Showers","phrase_22char":"AM Showers","phrase_32char":"AM Showers","subphrase_pt1":"AM","subphrase_pt2":"Showers","subphrase_pt3":"","precip_type":"rain","rh":58,"wspd":7,"wdir":5,"wdir_cardinal":"N","clds":90,"pop_phrase":"Chance of rain 30%.","temp_phrase":"High 68F.","accumulation_phrase":"","wind_phrase":"Winds N at 5 to 10 mph.","shortcast":"Showers ending by midday","narrative":"Showers early, then cloudy in the afternoon. Thunder possible. High 68F. Winds N at 5 to 10 mph. Chance of rain 30%.","qpf":0.0,"snow_qpf":0.0,"snow_range":"","snow_phrase":"","snow_code":"","vocal_key":"D1:DA01:X4600260012:S610312:Q8003:TH68:W16R02:P9031","qualifier_code":null,"qualifier":"Thunder possible.","uv_index_raw":3.24,"uv_index":3,"uv_warning":0,"uv_desc":"Moderate","golf_index":9,"golf_category":"Very Good"}},{"class":"fod_long_range_daily","expire_time_gmt":1491921833,"fcst_valid":1491998400,"fcst_valid_local":"2017-04-12T07:00:00-0500","num":2,"max_temp":75,"min_temp":52,"torcon":null,"stormcon":null,"blurb":null,"blurb_author":null,"lunar_phase_day":16,"dow":"Wednesday","lunar_phase":"Waning Gibbous","lunar_phase_code":"WNG","sunrise":"2017-04-12T06:26:28-0500","sunset":"2017-04-12T19:29:07-0500","moonrise":"2017-04-12T20:57:45-0500","moonset":"2017-04-12T07:27:51-0500","qualifier_code":null,"qualifier":null,"narrative":"Plenty of sun. Highs in the mid 70s and lows in the low 50s.","qpf":0.0,"snow_qpf":0.0,"snow_range":"","snow_phrase":"","snow_code":"","night":{"fcst_valid":1492041600,"fcst_valid_local":"2017-04-12T19:00:00-0500","day_ind":"N","thunder_enum":0,"daypart_name":"Tomorrow night","long_daypart_name":"Wednesday night","alt_daypart_name":"Wednesday night","thunder_enum_phrase":"No thunder","num":4,"temp":52,"hi":69,"wc":54,"pop":10,"icon_extd":2900,"icon_code":29,"wxman":"wx1600","phrase_12char":"P Cloudy","phrase_22char":"Partly Cloudy","phrase_32char":"Partly Cloudy","subphrase_pt1":"Partly","subphrase_pt2":"Cloudy","subphrase_pt3":"","precip_type":"rain","rh":72,"wspd":4,"wdir":82,"wdir_cardinal":"E","clds":42,"pop_phrase":"","temp_phrase":"Low 52F.","accumulation_phrase":"","wind_phrase":"Winds light and variable.","shortcast":"Partly cloudy","narrative":"A few clouds. Low 52F. Winds light and variable.","qpf":0.0,"snow_qpf":0.0,"snow_range":"","snow_phrase":"","snow_code":"","vocal_key":"D4:DA11:X3000300044:S300042:TL52:W9902","qualifier_code":null,"qualifier":null,"uv_index_raw":0,"uv_index":0,"uv_warning":0,"uv_desc":"Low","golf_index":null,"golf_category":""},"day":{"fcst_valid":1491998400,"fcst_valid_local":"2017-04-12T07:00:00-0500","day_ind":"D","thunder_enum":0,"daypart_name":"Tomorrow","long_daypart_name":"Wednesday","alt_daypart_name":"Wednesday","thunder_enum_phrase":"No thunder","num":3,"temp":75,"hi":73,"wc":48,"pop":10,"icon_extd":3400,"icon_code":34,"wxman":"wx1000","phrase_12char":"M Sunny","phrase_22char":"Mostly Sunny","phrase_32char":"Mostly Sunny","subphrase_pt1":"Mostly","subphrase_pt2":"Sunny","subphrase_pt3":"","precip_type":"rain","rh":52,"wspd":6,"wdir":67,"wdir_cardinal":"ENE","clds":10,"pop_phrase":"","temp_phrase":"High near 75F.","accumulation_phrase":"","wind_phrase":"Winds ENE at 5 to 10 mph.","shortcast":"Mostly sunny","narrative":"Mostly sunny skies. High near 75F. Winds ENE at 5 to 10 mph.","qpf":0.0,"snow_qpf":0.0,"snow_range":"","snow_phrase":"","snow_code":"","vocal_key":"D3:DA10:X3200340031:S340032:TH75:W03R02","qualifier_code":null,"qualifier":null,"uv_index_raw":7.43,"uv_index":7,"uv_warning":0,"uv_desc":"High","golf_index":10,"golf_category":"Excellent"}},{"class":"fod_long_range_daily","expire_time_gmt":1491921833,"fcst_valid":1492084800,"fcst_valid_local":"2017-04-13T07:00:00-0500","num":3,"max_temp":79,"min_temp":58,"torcon":null,"stormcon":null,"blurb":null,"blurb_author":null,"lunar_phase_day":17,"dow":"Thursday","lunar_phase":"Waning Gibbous","lunar_phase_code":"WNG","sunrise":"2017-04-13T06:25:04-0500","sunset":"2017-04-13T19:30:01-0500","moonrise":"2017-04-13T21:52:49-0500","moonset":"2017-04-13T08:01:58-0500","qualifier_code":null,"qualifier":null,"narrative":"More clouds than sun. Highs in the upper 70s and lows in the upper 50s.","qpf":0.0,"snow_qpf":0.0,"snow_range":"","snow_phrase":"","snow_code":"","night":{"fcst_valid":1492128000,"fcst_valid_local":"2017-04-13T19:00:00-0500","day_ind":"N","thunder_enum":1,"daypart_name":"Thursday night","long_daypart_name":"Thursday night","alt_daypart_name":"Thursday night","thunder_enum_phrase":"Thunder possible","num":6,"temp":58,"hi":74,"wc":60,"pop":20,"icon_extd":2700,"icon_code":27,"wxman":"wx1200","phrase_12char":"M Cloudy","phrase_22char":"Mostly Cloudy","phrase_32char":"Mostly Cloudy","subphrase_pt1":"Mostly","subphrase_pt2":"Cloudy","subphrase_pt3":"","precip_type":"rain","rh":79,"wspd":3,"wdir":136,"wdir_cardinal":"SE","clds":65,"pop_phrase":"","temp_phrase":"Low 58F.","accumulation_phrase":"","wind_phrase":"Winds light and variable.","shortcast":"Considerable cloudiness","narrative":"Considerable cloudiness. A stray shower or thunderstorm is possible. Low 58F. Winds light and variable.","qpf":0.0,"snow_qpf":0.0,"snow_range":"","snow_phrase":"","snow_code":"","vocal_key":"D6:DA13:X2800280043:S280042:Q8001:TL58:W9902","qualifier_code":null,"qualifier":"A stray shower or thunderstorm is possible.","uv_index_raw":0,"uv_index":0,"uv_warning":0,"uv_desc":"Low","golf_index":null,"golf_category":""},"day":{"fcst_valid":1492084800,"fcst_valid_local":"2017-04-13T07:00:00-0500","day_ind":"D","thunder_enum":1,"daypart_name":"Thursday","long_daypart_name":"Thursday","alt_daypart_name":"Thursday","thunder_enum_phrase":"Thunder possible","num":5,"temp":79,"hi":77,"wc":54,"pop":20,"icon_extd":2800,"icon_code":28,"wxman":"wx1200","phrase_12char":"M Cloudy","phrase_22char":"Mostly Cloudy","phrase_32char":"Mostly Cloudy","subphrase_pt1":"Mostly","subphrase_pt2":"Cloudy","subphrase_pt3":"","precip_type":"rain","rh":58,"wspd":5,"wdir":158,"wdir_cardinal":"SSE","clds":75,"pop_phrase":"","temp_phrase":"High 79F.","accumulation_phrase":"","wind_phrase":"Winds light and variable.","shortcast":"Mostly cloudy","narrative":"Mostly cloudy skies. A stray shower or thunderstorm is possible. High 79F. Winds light and variable.","qpf":0.0,"snow_qpf":0.0,"snow_range":"","snow_phrase":"","snow_code":"","vocal_key":"D5:DA12:X2800280032:S280031:Q8001:TH79:W9902","qualifier_code":null,"qualifier":"A stray shower or thunderstorm is possible.","uv_index_raw":4.8,"uv_index":5,"uv_warning":0,"uv_desc":"Moderate","golf_index":9,"golf_category":"Very Good"}},{"class":"fod_long_range_daily","expire_time_gmt":1491921833,"fcst_valid":1492171200,"fcst_valid_local":"2017-04-14T07:00:00-0500","num":4,"max_temp":81,"min_temp":61,"torcon":null,"stormcon":null,"blurb":null,"blurb_author":null,"lunar_phase_day":18,"dow":"Friday","lunar_phase":"Waning Gibbous","lunar_phase_code":"WNG","sunrise":"2017-04-14T06:23:41-0500","sunset":"2017-04-14T19:30:54-0500","moonrise":"2017-04-14T22:47:08-0500","moonset":"2017-04-14T08:38:23-0500","qualifier_code":null,"qualifier":null,"narrative":"Scattered thunderstorms possible. Highs in the low 80s and lows in the low 60s.","qpf":0.06,"snow_qpf":0.0,"snow_range":"","snow_phrase":"","snow_code":"","night":{"fcst_valid":1492214400,"fcst_valid_local":"2017-04-14T19:00:00-0500","day_ind":"N","thunder_enum":0,"daypart_name":"Friday night","long_daypart_name":"Friday night","alt_daypart_name":"Friday night","thunder_enum_phrase":"No thunder","num":8,"temp":61,"hi":74,"wc":62,"pop":10,"icon_extd":2900,"icon_code":29,"wxman":"wx1600","phrase_12char":"P Cloudy","phrase_22char":"Partly Cloudy","phrase_32char":"Partly Cloudy","subphrase_pt1":"Partly","subphrase_pt2":"Cloudy","subphrase_pt3":"","precip_type":"rain","rh":74,"wspd":6,"wdir":178,"wdir_cardinal":"S","clds":42,"pop_phrase":"","temp_phrase":"Low 61F.","accumulation_phrase":"","wind_phrase":"Winds S at 5 to 10 mph.","shortcast":"Partly cloudy","narrative":"Partly cloudy. Low 61F. Winds S at 5 to 10 mph.","qpf":0.0,"snow_qpf":0.0,"snow_range":"","snow_phrase":"","snow_code":"","vocal_key":"D8:DA15:X3000300043:S300041:TL61:W08R02","qualifier_code":null,"qualifier":null,"uv_index_raw":0,"uv_index":0,"uv_warning":0,"uv_desc":"Low","golf_index":null,"golf_category":""},"day":{"fcst_valid":1492171200,"fcst_valid_local":"2017-04-14T07:00:00-0500","day_ind":"D","thunder_enum":2,"daypart_name":"Friday","long_daypart_name":"Friday","alt_daypart_name":"Friday","thunder_enum_phrase":"Thunder expected","num":7,"temp":81,"hi":81,"wc":60,"pop":40,"icon_extd":3800,"icon_code":38,"wxman":"wx2000","phrase_12char":"Sct T-Storms","phrase_22char":"Sct Thunderstorms","phrase_32char":"Scattered Thunderstorms","subphrase_pt1":"Scattered","subphrase_pt2":"T-Storms","subphrase_pt3":"","precip_type":"rain","rh":62,"wspd":10,"wdir":188,"wdir_cardinal":"S","clds":60,"pop_phrase":"Chance of rain 40%.","temp_phrase":"High 81F.","accumulation_phrase":"","wind_phrase":"Winds S at 10 to 15 mph.","shortcast":"Scattered thunderstorms","narrative":"Partly to mostly cloudy skies with scattered thunderstorms mainly in the morning. High 81F. Winds S at 10 to 15 mph. Chance of rain 40%.","qpf":0.06,"snow_qpf":0.0,"snow_range":"","snow_phrase":"","snow_code":"","vocal_key":"D7:DA14:X3800370033:S380031:TH81:W08R03:P9041","qualifier_code":null,"qualifier":null,"uv_index_raw":6.95,"uv_index":7,"uv_warning":0,"uv_desc":"High","golf_index":5,"golf_category":"Fair"}}]}';
        
        HttpResponse res = new HttpResponse();
        res.setHeader('Content-Type', 'application/json');
        res.setBody(jsonResponse);
        res.setStatusCode(200);
        return res;
    }
    
    private static HttpResponse mockGetAlerts(HttpRequest req) {
        String jsonResponse = '{"metadata":{"language":"en-US","transaction_id":"1491919334216:1078006245","version":"1","longitude":"-89.19","latitude":"37.12","expire_time_gmt":1491919394,"status_code":200},"alerts":[{"key":"26eeb32a-820d-36c9-9655-4e9eef978f40","class":"bulletin","msg_type_cd":2,"msg_type":"Update","pil":"FLS","phenomena":"FL","significance":"W","etn":"0013","office_cd":"KPAH","office_name":"Paducah","office_st_cd":"KY","office_cntry_cd":"US","event_desc":"River Flood Warning","severity_cd":3,"severity":"Moderate","categories":[{"category":"Met","category_cd":2}],"response_types":[{"response_type":"Avoid","response_type_cd":5}],"urgency":"Unknown","urgency_cd":5,"certainty":"Unknown","certainty_cd":5,"effective_dt_tm_local":null,"effective_dt_tm_tz_abbrv":null,"expire_dt_tm_local":"2017-04-15T05:00:00-05:00","expire_dt_tm_tz_abbrv":"CDT","expire_time_gmt":1492250400,"onset_dt_tm_local":null,"onset_dt_tm_tz_abbrv":null,"flood":{"fld_location_id":"CIRI2","fld_location_name":"Ohio River at Cairo","fld_severity_cd":"1","fld_severity":"Minor","fld_immediate_cause_cd":"ER","fld_immediate_cause":"Excessive Rainfall","fld_record_status_cd":"NO","fld_record_status":"A record flood is not expected","fld_start_dt_tm_local":"2017-04-09T16:48:00-05:00","fld_start_dt_tm_tz_abbrv":"CDT","fld_crest_dt_tm_local":"2017-04-12T19:00:00-05:00","fld_crest_dt_tm_tz_abbrv":"CDT","fld_end_dt_tm_local":"2017-04-14T23:00:00-05:00","fld_end_dt_tm_tz_abbrv":"CDT"},"area_type":"C","lat":37.24,"lon":-89.10,"area_id":"ILC153","area_name":"Pulaski County","st_cd":"IL","st_name":"Illinois","cntry_cd":"US","cntry_name":"UNITED STATES OF AMERICA","headline_text":"River Flood Warning until 5AM CDT SAT","detail_key":"26eeb32a-820d-36c9-9655-4e9eef978f40","source":"National Weather Service","disclaimer":null,"issue_dt_tm_local":"2017-04-10T21:08:00-05:00","issue_dt_tm_tz_abbrv":"CDT","identifier":"f94284f3093e4ae4754171a05fb01f94","proc_dt_tm_local":"2017-04-10T21:08:20-05:00","proc_dt_tm_tz_abbrv":"CDT"}]}';
        
        HttpResponse res = new HttpResponse();
        res.setHeader('Content-Type', 'application/json');
        res.setBody(jsonResponse);
        res.setStatusCode(200);
        return res;
    }
    
}